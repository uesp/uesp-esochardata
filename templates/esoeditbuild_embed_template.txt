{trail}
<div id="esotbButtons">
	<button id="esotbSaveButton" {saveButtonDisabled}>Save Build</button>
	<button id="esotbCreateCopyButton" {createCopyButtonDisabled}>Create Copy</button>
	<div id="esotbSaveResults"></div>
</div>

{saveNote}
Note that this character builder is for test purposes and is currently undergoing active development. Accuracy of the displayed statistics is unknown. 

<p/>
<div id="esotbRoot">
	<div id="esotbStatInputs">
		<div class="esotbStatTabList">
			<div class="esotbStatTabSpacer"></div>
			<div class="esotbStatTab esotbStatTabSelected" tabid="esotbStatBlockGeneral">General</div>
			<div class="esotbStatTab" tabid="esotbStatBlockItems">Items</div>
			<div class="esotbStatTab" tabid="esotbStatBlockSets">Sets</div>
			<div class="esotbStatTab" tabid="esotbStatBlockSkills">Skills</div>
			<div class="esotbStatTab" tabid="esotbStatBlockBuffs">Buffs</div>
			<div class="esotbStatTab" tabid="esotbStatBlockCPs">CPs</div>
			<div class="esotbStatTab" tabid="esotbStatBlockRawData">Raw Data</div>
			<div class="esotbStatTab" tabid="esotbStatBlockHelp">Help</div>
			<div class="esotbStatTabSpacer"></div>
		</div>
		<div id="esotbStatBlockGeneral" class="esotbStatBlock">
			<div class="esotbStatLabel">Build Name</div> <input id="esotbBuildName" class="esotbBuildName" statid="BuildName" type="text" size="25" value="{buildName}">
			<div class="esotbStatLabel">Character Name</div> <input id="esotbCharName" class="esotbCharName" statid="CharName" type="text" size="25" value="{charName}"><br/>
			<p>
			<div id="esotbRaceList">
				<div class="esotbStatLabel">Race</div> <select id="esotbRace" name="esotbRace" statid="Race">{raceList}</select>
			</div>
			<div id="esotbClassList">
				<div class="esotbStatLabel">Class</div> <select id="esotbClass" name="esotbClass" statid="Class">{classList}</select>
			</div><br/>
			<div id="esotbMundusList">
				<div class="esotbStatLabel">Mundus</div> <select id="esotbMundus" name="esotbMundus" statid="Mundus.Name">{mundusList}</select>
				<div class="esotbStatLabel">Mundus #2</div> <select id="esotbMundus2" name="esotbMundus2" statid="Mundus.Name2" disabled>{mundusList2}</select>
				For Twice-Born Star builds
			</div>
			<p>
			<div class="esotbStatLabel">Level</div> <input id="esotbLevel" class="esotbLevelInput esotbInputValue" statid="Level" type="number" size="2" value="{level}">
			<div class="esotbStatLabel">Total CPs</div> <input id="esotbCPTotalPoints" class="esotbLevelInput esotbInputValue" statid="CP.TotalPoints" type="number" size="2" value="{CPTotalPoints}">
			<div class="esotbStatLabel">Effective Level</div> <div id="esotbEffectiveLevel" class="esotbInputValueRO" statid="EffectiveLevel">{effectiveLevel}</div>
			<br/>
			<div class="esotbStatLabel">Vampire Stage</div> <select id="esotbVampireStage" name="esotbVampireStage" statid="VampireStage">{vampireList}</select>
			<div class="esotbStatLabel">Werewolf Stage</div> <select id="esotbWerewolfStage" name="esotbWerewolfStage" statid="Werewolf">{werewolfList}</select>
			<br/> 
			<div class="esotbStatLabel">Alliance</div> <select id="esotbAlliance" name="esotbAlliance" statid="Alliance">{allianceList}</select>
			<p>
			<div id="esotbAttributes">
				<div class="esotbAttrTitle">Attributes <div id="esotbAttrTotal" statid="AttributeTotal" class="esotbAttributeInput">{attributeTotal} / 64</div></div>
				<div class="esotbAttrLabel">Health</div> <input id="esotbAttrHea" statid="AttributeHealth" class="esotbAttributeInput esotbInputValue" type="number" size="2" value="{attributeHealth}">
				<div class="esotbAttrLabel">Magicka</div> <input id="esotbAttrMag" statid="AttributeMagicka" class="esotbAttributeInput esotbInputValue" type="number" size="2" value="{attributeMagicka}">
				<div class="esotbAttrLabel">Stamina</div> <input id="esotbAttrSta" statid="AttributeStamina" class="esotbAttributeInput esotbInputValue" type="number" size="2" value="{attributeStamina}">
			</div>
			<p>
			<div id="esotbTarget">
				<div class="esotbAttrTitle">Target Stats</div>
				These statistics are to simulate attacking/defending a NPC/player with the given resistances and penetrations.
				<p>
				<div class="esotbStatLabel">Flat Penetration</div> <input id="esotbTargetPenetrationFlat" class="esotbInputValue esotbTargetInput" statid="Target.PenetrationFlat" type="number" size="2" value="{targetFlatPene}">
				<div class="esotbStatLabel">% Penetration</div> <input id="esotbTargetPenetrationFactor" class="esotbInputValue esotbTargetInput" statid="Target.PenetrationFactor" type="number" size="2" value="{targetFactPene}"><br/>
				<div class="esotbStatLabel">% Defense Bonus</div> <input id="esotbTargetDefenseBonus" class="esotbInputValue esotbTargetInput" statid="Target.DefenseBonus" type="number" size="2" value="{targetFactDefense}">
				<div class="esotbStatLabel">% Attack Bonus</div> <input id="esotbTargetAttackBonus" class="esotbInputValue esotbTargetInput" statid="Target.AttackBonus" type="number" size="2" value="{targetFactAttack}"><br/>
				<div class="esotbStatLabel">Resistance</div> <input id="esotbTargetResistance" class="esotbInputValue esotbTargetInput" statid="Target.Resistance" type="number" size="2" value="{targetResist}"><br/>
			</div>
			<div id="esotbMisc">
				<div class="esotbAttrTitle">Miscellaneous Stats</div>
				<div class="esotbStatLabel">Spell/Ability Cost</div> <input id="esotbMiscSpellCost" class="esotbInputValue esotbMiscInput" statid="Misc.SpellCost" type="number" size="2" value="{miscSpellCost}">
				This value is used to see the effect of cost reduction from all factors.
			</div>
		</div>
		<div id="esotbStatBlockItems" class="esotbStatBlock" style="display: none;">
			<div id="esotbItems">
				<div class="esotbItemSlotLabel"></div>
				<div class="esotbItemSlotLabel"></div>
				<div class="esotbItemSlotLabel">Head</div>
				<div class="esotbItem" id="esotbItemHead" slotid="Head" equiptype="1" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataHead}>
					<div class="esotbItemLabel">{itemNameHead}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div><br/>
				<div class="esotbItemSlotLabel">Shoulders</div>
				<div class="esotbItem " id="esotbItemShoulders" slotid="Shoulders" equiptype="4" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataShoulders}>
					<div class="esotbItemLabel">{itemNameShoulders}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<div class="esotbItemSlotLabel">Chest</div>
				<div class="esotbItem" id="esotbItemChest" slotid="Chest" equiptype="3" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataChest}>
					<div class="esotbItemLabel">{itemNameChest}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div><br/>
				<div class="esotbItemSlotLabel">Hands</div>
				<div class="esotbItem " id="esotbItemHands" slotid="Hands" equiptype="13" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataHands}>
					<div class="esotbItemLabel">{itemNameHands}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<div class="esotbItemSlotLabel">Waist</div>
				<div class="esotbItem " id="esotbItemWaist" slotid="Waist" equiptype="8" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataWaist}>
					<div class="esotbItemLabel">{itemNameWaist}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div><br/>
				<div class="esotbItemSlotLabel">Legs</div>
				<div class="esotbItem " id="esotbItemLegs" slotid="Legs" equiptype="9" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataLegs}>
					<div class="esotbItemLabel">{itemNameLegs}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<div class="esotbItemSlotLabel">Feet</div>
				<div class="esotbItem " id="esotbItemFeet" slotid="Feet" equiptype="10" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataFeet}>
					<div class="esotbItemLabel">{itemNameFeet}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<hr>
				<div class="esotbItemSlotLabel">Neck</div>
				<div class="esotbItem " id="esotbItemNeck" slotid="Neck" equiptype="2" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataNeck}>
					<div class="esotbItemLabel">{itemNameNeck}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<div class="esotbItemSlotLabel">Rings</div>
				<div class="esotbItem " id="esotbItemRing1" slotid="Ring1" equiptype="12" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataRing1}>
					<div class="esotbItemLabel">{itemNameRing1}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<div class="esotbItem " id="esotbItemRing2" slotid="Ring2" equiptype="12" itemtype="2">
					<img class="esotbItemIcon eso_item_link" {itemDataRing2}>
					<div class="esotbItemLabel">{itemNameRing2}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
					<div class="esotbItemEnchantButton esotbItemButton">*</div>
				</div>
				<hr>
				<div id="esotbWeaponBar1" class="{weaponBarClass1}">
					<div class="esotbItemSlotLabel">Weapon 1</div>
					<div class="esotbItem" id="esotbItemMainHand1" slotid="MainHand1" equiptype="5,6" itemtype="1">
						<img class="esotbItemIcon eso_item_link" {itemDataMainHand1}>
						<div class="esotbItemLabel">{itemNameMainHand1}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
						<div class="esotbItemEnchantButton esotbItemButton">*</div>
					</div>
					<div class="esotbItem" id="esotbItemOffHand1" slotid="OffHand1" equiptype="5,7" itemtype="1">
						<img class="esotbItemIcon eso_item_link" {itemDataOffHand1}>
						<div class="esotbItemLabel">{itemNameOffHand1}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
						<div class="esotbItemEnchantButton esotbItemButton">*</div>
					</div>
					<div class="esotbItem" id="esotbItemPoison1" slotid="Poison1" equiptype="15" itemtype="30">
						<img class="esotbItemIcon eso_item_link" {itemDataPoison1}>
						<div class="esotbItemLabel">{itemNamePoison1}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
					</div>
				</div>
				<br/>
				
				<div id="esotbWeaponBar2" class="{weaponBarClass2}">
					<div class="esotbItemSlotLabel">Weapon 2</div>
					<div class="esotbItem " id="esotbItemMainHand2" slotid="MainHand2" equiptype="5,6" itemtype="1">
						<img class="esotbItemIcon eso_item_link" {itemDataMainHand2}>
						<div class="esotbItemLabel">{itemNameMainHand2}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
						<div class="esotbItemEnchantButton esotbItemButton">*</div>
					</div>
					<div class="esotbItem " id="esotbItemOffHand2" slotid="OffHand2" equiptype="5,7" itemtype="1">
						<img class="esotbItemIcon eso_item_link" {itemDataOffHand2}>
						<div class="esotbItemLabel">{itemNameOffHand2}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
						<div class="esotbItemEnchantButton esotbItemButton">*</div>
					</div>
					<div class="esotbItem " id="esotbItemPoison2" slotid="Poison2" equiptype="15" itemtype="30">
						<img class="esotbItemIcon eso_item_link" {itemDataPoison2}>
						<div class="esotbItemLabel">{itemNamePoison2}</div>
						<div class="esotbItemDisableButton esotbItemButton">-</div>
						<div class="esotbItemDetailsButton esotbItemButton">...</div>
					</div>
				</div>
				<hr>				
				<div class="esotbItemSlotLabel" style="display: inline-block">Food/Drink</div>
				<div class="esotbItem " id="esotbItemFood" slotid="Food" itemtype="4,12">
					<img class="esotbItemIcon eso_item_link" {itemDataFood}>
					<div class="esotbItemLabel">{itemNameFood}</div>
					<div class="esotbItemDisableButton esotbItemButton">-</div>
					<div class="esotbItemDetailsButton esotbItemButton">...</div>
				</div>
			</div>
		</div>
		<div id="esotbStatBlockSkills" class="esotbStatBlock" style="display: none;">
			{skillHtml}
			<p>
			<div id="esotbToggleSkills">
				<h3>Toggled Skills</h3>
				<hr>
				The following passive/active skills can be manually enabled as desired.
				<p>
				<div id="esotbToggledSkillInfo">
				</div>
			</div>
		</div>
		<div id="esotbStatBlockCPs" class="esotbStatBlock" style="display: none;">
			{cpHtml}
		</div>
		<div id="esotbStatBlockRawData" class="esotbStatBlock" style="display: none;">
			<div id="esotbRawInputs">
			</div>
		</div>
		<div id="esotbStatBlockSets" class="esotbStatBlock" style="display: none;">
			<div class="esotbItemToggleSets">
				<h3>Toggled Sets</h3>
				<hr>
				The following worn set effects can be manually enabled as desired.
				<p>
				<div id="esotbToggledSetInfo">
				</div>
			</div>
			<p>
			<div id="esotbSets">
				<h3>Set Information</h3>
				<hr>
				The following data is information on all worn sets.
				<div id="esotbSetInfo">
				</div>				
			</div>
		</div>
		<div id="esotbStatBlockBuffs" class="esotbStatBlock" style="display: none;">
			<div id="esotbBuffs">
				You can manually select which buffs to include in your character data calculation. Note that some buffs may already be
				applied through passive/active skills.
				<p>
				<div id="esotbBuffInfo">
				</div>
			</div>
		</div>
		<div id="esotbStatBlockHelp" class="esotbStatBlock" style="display: none;">
			
			<div class="esotbHelpWarning">
				<b>Warning:</b> This ESO character builder is currently undergoing construction and is not 100% completed. There are bugs and 
				missing features as detailed below.				
			</div>
			<p>
			This is a yet another character builder/planner for Elder Scrolls Online. The design goal behind the builder is to be able to see 
			all the various calculations and stat sources to be able to better understand how one thing or another affects your character's
			final stats. If you notice any bugs, errors, calculation discrepancies or just would like to suggest a feature just leave a note on
			<a href="http://en.uesp.net/wiki/User_talk:Daveh">Daveh's talk page</a>.
			<p>
			A for a brief description as to what is and isn't working here yet:
			
			<div class='esotbHelpWorkBlock'>
				<h4>"Mostly" Working</h4>
				<ul>
					<li>General stats</li>
					<li>Items</li>
					<li>Champion Points</li>
					<li>Sets (basic stats only)</li>
					<li>Skills (basic stats only)</li>
					<li>Buffs (basic stats only)</li>
					<li>Main computed stats (everything above penetration)</li>
				</ul>
			</div>
			<div class='esotbHelpWorkBlock'>
				<h4>"Half" Working</h4>
				<ul>
					<li>Skill tooltip cost, damage and healing updates</li>
					<li>All secondary computed stats</li>
					<li>Base stat values and calculations for less than max level (CP160)</li>
				</ul>
			</div>
			<div class='esotbHelpWorkBlock'>
				<h4>"Not Yet" Working</h4>
				<ul>
					<li>More complex set, skill, and buff effects</li>
					<li>Saving and loading of builds</li>
					<li>Integration into the UESP wiki</li>
					<li>Combining into the existing build data on UESP</li> 
				</ul>
			</div><br/>
			
			<p>
			<h3>Basic Usage</h3>
			Hopefully, most basic interface elements should be obvious to those familiar with the game, but here are a few general tips to help you get going and explore
			some of the not-so-obvious features of this character builder.  
			<ul>
				<li>Enter your basic character stats in the <em>"General"</em> tab. The <em>"Target"</em> and <em>"Miscellaneous"</em> stats are for more advanced
					users wishing to test specific things.</li>
				<li>Use the <em>"Item"</em> to select your character's armor and weapons like in the game. Click on an item slot to display a simple item
					search dialog to help you find your desired item. Use the <em>*</em> button to enchant your gear. The <em>...</em> button displays detail
					on the gear stat and the <em>-</em> button can temporarily disable an item from being used in the stat calculations.</li>
				<li>The <em>"Sets"</em> tab displays information on any worn sets in addition to some specific set effects that can be manually toggled on/off.</li>
				<li>Choose your skills in the <em>"Skills"</em> tab just like in game, although here you are not limited to availabe skill points. Purchase or refund
					an ability by clicking on the <em>"+"</em> to the left of each skill. Passive effects
					are applied as soon as the passive is purchased. Active effects need to be dragged to the active skill bar in order to take effect. Skill costs
					and damage/healing values are updated automatically as you character stats change.</li>
				<li>The <em>"Buffs"</em> tab allows you to select which buff effects to apply on your character. These are familiar things like the potion effects
					or effects granted by using certain skills. Note that some effects may be automatically granted by a passive or an active slotted skill.</li>
				<li>Choose your champion points in the <em>"CP"</em> tab. You can exceed the limit of 167 points per skill line
					unlike in the actual game. CP passive skills are granted automatically at the appropriate level. Note that buying CPs in this tab does *not* change
					your <em>"Total CPs"</em> value in the general tab which governs your character level.</li>
				<li>The <em>"Raw Data"</em> tab shows all the contributors to each statistic.</li>
				<li>The <em>"Computed Character Statistics"</em> list on the right shows all the computed stastic values obtained from all the enter 
					input character data. A <div class='esotbStatWarningButton'>?</div> button means there may be issues calculating that particular stat (click to see details).
					You can click on the <em>"+"</em> button to the right to view details on the inputs and calculation for each tab. More information can be
					seen by clicking on this list.</li>
			</ul>
			<p>
			<h3>Known Bugs</h3>
			<hr>
			<ul>
				<li>Live In-Game Issue: Ability tooltip costs sometimes report 1-2% higher than actual for no obvious reasons. No known cause or fix.</li>
				<li>Live In-Game Issue: The Undaunted Mettle passive sometimes breaks resulting with incorrect stats. Logging out and back in fixes it temporarily.</li>
			</ul>
			<p>
			<h3>Recent Work</h3>
			<hr>
			<b>14 June 2016</b>
			<ul>
				<li>Implemented saving and copying of most build features (needs further testing).</li>
				<li>Editing/creating/saving permission based off of logged in wiki user.</li>
				<li>Added viewing of owned builds.</li>
				<li>Added searching of builds.</li>
				<li>Added trail to build editor.</li>
			</ul>
			<p>
			<b>12 June 2016</b>
			<ul>
				<li>Integrated builder into the UESP wiki.</li>
				<li>Added basic loading from existing build data.</li>
				<li>Added display conversion from flat spell/weapon critical and resistances to %.</li>
			</ul>
			<p>
			<b>11 June 2016</b>
			<ul>
				<li>Added damage and healing scaling to most skill tooltips.</li>
				<li>Added skill details button which includes details on the spell cost and damage/healing calculations.</li>
			</ul>
			<p>
			<h3>Credits</h3>
			<hr>
			This character builder has been made possible by a large number of contributors:
			<ul>
				<li>The builder was assembled from all the parts by <a href="http://www.uesp.net/wiki/User:Daveh">Daveh</a>.</li>
				<li>Asayre and his detailed <a href="http://tamrielfoundry.com/topic/pts-2-1-2-sorcerer-arithmagic/">Arithmagic Post</a> on <a href="http://tamrielfoundry.com/">Tamriel Foundry</a> among his many others.</li>
				<li>The <a href="http://en.uesp.net/wiki/Online:UespLog_AddOn">uespLog add-on</a> which collects various data from the game.</li>
				<li>The <a href="http://esolog.uesp.net/viewlog.php">data</a> collected by users of uespLog.</a></li>
				<li>The <a href="http://www.uesp.net/wiki/Special:EsoCps">ESO Champion Point Browser</a> is used within the builder.</li>
				<li>The <a href="http://www.uesp.net/wiki/Special:EsoSkills">ESO Skill Browser</a> is also used within the builder.</li>
				<li>All the numerous people who have tested and posted various ESO game details they've figured out.</li> 
			</ul>
		</div>
	</div>
	<div id="esotbStatList">
		<div class="esotbStatTitle">Computed Character Statistics</div>
	</div>
</div>
   
<div class="esotbBlockClear"></div>

<script type="text/javascript">
	g_EsoBuildData = {buildDataJson};
	g_EsoComputedStats = {esoComputedStatsJson};
	g_EsoInputStats = {esoInputStatsJson};
	g_EsoInputStatDetails = {esoInputStatDetailsJson};
	g_EsoGearIcons = {gearIconJson};
	g_EsoInitialItemData = {initialItemDataJson};
	g_EsoInitialEnchantData = {initialEnchantDataJson};
	g_EsoInitialSetMaxData = {initialSetMaxDataJson}; 
	g_EsoInitialBuffData = {initialBuffDataJson};
	g_EsoInitialCpData = {initialCpDataJson};
	g_EsoInitialSkillData = {initialSkillDataJson};
	g_EsoInitialToggleSkillData = {initialToggleSkillDataJson};
	g_EsoInitialToggleSetData = {initialToggleSetDataJson};
	g_EsoBuildActiveWeapon = {activeBar};	
</script>

